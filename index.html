<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Memory Card Game</title>
    <link rel="icon" type="image/jpeg" href="keseimbangan.jpeg">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="solar-system">
        <div class="sun"></div>
        <div class="planet mercury"></div>
        <div class="planet venus"></div>
        <div class="planet earth"></div>
        <div class="planet mars"></div>
        <div class="planet jupiter"></div>
        <div class="planet saturn"></div>
        <div class="planet uranus"></div>
        <div class="planet neptune"></div>
    </div>
    <div class="meteor"></div>
    <main class="start-screen">
        <div class="logo-row">
            <img src="FAJRI/keseimbangan.jpeg" alt="logo-kiri" class="side-logo" />
            <h1 class="title">Memory Game</h1>
            <img src="FAJRI/keseimbangan.jpeg" alt="logo-kanan" class="side-logo" />
        </div>

        <div class="player-input">
            <label>Nama Pemain:</label>
            <input type="text" id="startPlayerName" placeholder="Masukkan nama Anda" maxlength="20">
        </div>

        <div class="difficulty-select">
            <label>Pilih Kesulitan:</label>
            <select id="startLevel">
                <option value="" selected>Pilih Kesulitan</option>
                <option value="easy">Mudah (2x2)</option>
                <option value="medium">Sedang (3x2)</option>
                <option value="hard">Sulit (4x4)</option>
            </select>
        </div>

        <nav class="start-buttons">
            <button class="btn primary" id="mulaiBtn">Mulai</button>
            <button class="btn" id="leaderboardBtn">Leaderboard</button>
            <button class="btn" id="skinsBtn">Skins</button>
            <button class="btn" id="shopBtn">Shop</button>
        </nav>

        <p class="credit">TERIMAKASIH TELAH BERMAIN GAME INI ‚ù§Ô∏è</p>
    </main>

    <div class="game-screen" id="gameScreen">
        <div class="header">
            <img src="FAJRI/keseimbangan.jpeg" alt="Keseimbangan" class="header-image">
            <h1>üóø Memory Card Game - FAJRIüóø</h1>
            <img src="FAJRI/keseimbangan.jpeg" alt="Fajri" class="header-image">
        </div>

        <div class="controls">
            <div class="level-select">
                <label>Pilih Level:</label>
                <select id="level">
                    <option value="easy">Mudah (2x2)</option>
                    <option value="medium" selected>Sedang (3x2)</option>
                    <option value="hard">Sulit (4x4)</option>
                </select>
            </div>

            <div class="player-input">
                <label>Nama Pemain:</label>
                <input type="text" id="playerName" placeholder="Masukkan nama Anda" maxlength="20">
            </div>

            <div class="stats">
                <div class="stat">Waktu: <span id="timer">00:00</span></div>
                <div class="stat">Langkah: <span id="moves">0</span></div>
                <div class="stat">Koin: <span id="coins">0</span></div>
                <div class="stat">Skor: <span id="score">0</span></div>
                <div class="stat">Best Skor: <span id="bestScore">0</span></div>
            </div>

            <button class="btn back-btn" id="backBtn">Kembali</button>
        </div>

        <div class="game-board" id="gameBoard"></div>



        <p class="footer">DIBUAT OLEH CAHYO DENGAN SEPENUH HATI‚ù§Ô∏è‚ù§Ô∏èüåπüåπ</p>
    </div>

    <div class="skins-screen">
        <h1>Skins</h1>
        <div class="total-coins-display"><img src="coin.png" alt="coin" class="coin-icon"> <span id="skinsCoins">0</span></div>
        <div class="skins-grid" id="skinsGrid"></div>
        <button class="btn back-btn">Kembali</button>
    </div>

    <div class="shop-screen">
        <h1>Shop</h1>
        <div class="total-coins-display"><img src="coin.png" alt="coin" class="coin-icon"> <span id="shopCoins">0</span></div>
        <div class="shop-items" id="shopItems"></div>
        <button class="btn back-btn">Kembali</button>
    </div>

    <div class="leaderboard-screen">
        <h1>üèÜ Leaderboard Global üèÜ</h1>
        <div class="leaderboard-container" id="leaderboardContainer">
            <div class="leaderboard-entry loading">
                <div class="rank">Memuat leaderboard...</div>
            </div>
        </div>
        <button class="btn back-btn">Kembali</button>
    </div>

    <!-- Custom Notification -->
    <div id="customNotification" class="custom-notification">
        <div class="notification-content">
            <h2 id="notificationTitle">Skin Diaktifkan!</h2>
            <p id="notificationMessage">Kartu telah berhasil diaktifkan.</p>
            <button class="btn" id="closeNotification">OK</button>
        </div>
    </div>

    <!-- Firebase SDK v8 (compatible with script tags) -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-analytics.js"></script>
    <script>
        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBwkRCXNRPVhXNkJC4_xzQc0a6KqYSViWI",
            authDomain: "memory-game-leaderboard-e3f8f.firebaseapp.com",
            projectId: "memory-game-leaderboard-e3f8f",
            storageBucket: "memory-game-leaderboard-e3f8f.firebasestorage.app",
            messagingSenderId: "1069482034483",
            appId: "1:1069482034483:web:5f3ce8313a19bee6386a46",
            measurementId: "G-5XH38KK6G8"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        firebase.analytics();

        // Initialize Firestore
        const db = firebase.firestore();

        // Make db available globally
        window.db = db;
        window.collection = (dbInstance, path) => dbInstance.collection(path);
        window.doc = (db, collectionName, docId) => db.collection(collectionName).doc(docId);
        window.setDoc = (ref, data) => ref.set(data);
        window.getDoc = (ref) => ref.get();
        window.addDoc = (collectionRef, data) => collectionRef.add(data);
        window.query = (collectionRef, ...constraints) => {
            let q = collectionRef;
            constraints.forEach(constraint => {
                if (constraint.type === 'orderBy') {
                    q = q.orderBy(constraint.field, constraint.direction || 'asc');
                } else if (constraint.type === 'limit') {
                    q = q.limit(constraint.value);
                }
            });
            return q;
        };
        window.orderBy = (field, direction) => ({ type: 'orderBy', field, direction });
        window.limit = (num) => ({ type: 'limit', value: num });
        window.getDocs = (query) => query.get();
        window.onSnapshot = (query, callback) => query.onSnapshot(callback);
    </script>

    <script src="script.js"></script>
</body>
</html>
